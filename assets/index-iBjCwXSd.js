(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();const k={normal:"#a8a878",fire:"#f08030",water:"#6890f0",grass:"#78c850",electric:"#f8d030",ice:"#98d8d8",fighting:"#c03028",poison:"#a040a0",ground:"#e0c068",flying:"#a890f0",psychic:"#f85888",bug:"#a8b820",rock:"#b8a038",ghost:"#705898",dragon:"#7038f8",dark:"#705848",steel:"#b8b8d0",fairy:"#ee99ac"},G={normal:{attemps:3,timeFlip:2.5,numCards:5},hard:{attemps:5,timeFlip:5,numCards:10}},w={win:{text:"You Win",img:"images/pichu-win.gif",info:"win_img"},lose:{text:"You Lose",img:"images/hunter-lose.gif",info:"lose_img"}},i=document.getElementById("volume-option"),q=document.getElementById("flip-option");let C=!1;function D(){const e=Array.from(a.querySelectorAll(".card"));let o=0;return e.forEach(s=>{const t=s.querySelector(".front"),n=s.querySelector(".back");t.style.transform=="rotateY(180deg)"&&n.style.transform=="rotateY(0deg)"&&o++}),e.length===o}i.addEventListener("click",()=>{console.log("Hola soy el volumen"),i.classList.contains("fa-volume-high")?(console.log("Cambio a mute"),i.classList.remove("fa-volume-high"),i.classList.add("fa-volume-xmark")):(console.log("Cambio a volumen alto"),i.classList.remove("fa-volume-xmark"),i.classList.add("fa-volume-high"))});q.addEventListener("click",e=>{console.log("Hola soy el restart"),D()?console.log("las cartas ya estan volteadas"):C||(V(3),C=!0,q.style.display="none")});const a=document.querySelector(".container-cards"),E=document.getElementById("attemps"),Y=document.querySelector(".gameOver-screen"),A=document.querySelector(".start-screen"),L=document.getElementById("par-found"),b=document.getElementById("par-notFound"),J="https://pokeapi.co/api/v2/pokemon/",d=document.querySelector(".rating-list");let l=[],y=0,p=0;function U(){const e=document.getElementById("gameOver-gif");Y.classList.remove("aparittion"),A.style.display="block",A.style.transform="translateY(0%)",a.style.display="none",q.style.display="block",e.src="",y=0,p=0}function H(e){const o=document.getElementById("gameOver-tittle"),s=document.getElementById("gameOver-gif"),t=document.getElementById("points");o.textContent=e.text,s.src=e.img,s.alt=e.info,t.textContent=p}function W(e){const o=[],s=new Set;for(;s.size<e;){let t=Math.floor(Math.random()*150)+1;s.add(t)}for(let t of s){const n=J+t;o.push(fetch(n).then(r=>{if(!r.ok)throw new Error(`HTTP error status: ${r.status}`);return r.json()}).catch(r=>{console.error(`Peticion a pokemon con ${t} ha fallado`)}))}Promise.all(o).then(t=>{Q(t)}).catch(t=>{console.error("Alguna de las peticiones ha fallado",t)})}function z(e){let o=[];for(let s=0;s<e.length;s++)o.push(e[s].sprites.other.dream_world.front_default);return o}function R(e,o){for(let s=0;s<e.length;s++){const t=document.createElement("button"),n=e[s].type.name;t.textContent=n,t.classList.add(`${n}`),n in k&&(t.style.backgroundColor=k[n]),o.appendChild(t)}}function K(e,o){o.style.background=`radial-gradient(circle at 50% 0%, ${e} 38%, #fff 38%)`}function Q(e){let o=z(e),s=[];for(let n=0;n<e.length;n++){e[n];const r=e[n].stats[0].base_stat,c=e[n].stats[1].base_stat,h=e[n].stats[2].base_stat,S=e[n].stats[5].base_stat,g=e[n].name,P=e[n].types,N=k[e[n].types[0].type.name],f=document.createElement("div");f.classList.add("card"),f.innerHTML=`
            <div class="front">
                <img src="images/pokecard-reverse.png">
            </div>
            <div class="back">
                <div class="hp-container">
                    <p><small>HP</small> <span>${r}</span></p>
                </div>
                <figure class="pokemon-container">
                    <img src="${o[n]}" alt="_${g}">
                    <figcaption class="name">${g}</figcaption>
                </figure>
                <div class="types-container">
                </div>
                <div class="stats-container">
                    <p><span class="attack">${c}</span><br><strong>Attack</strong></p>
                    <p><span class="defense">${h}</span><br><strong>Defense</strong></p>
                    <p><span class="speed">${S}</span><br><strong>Speed</strong></p>
                </div>
            </div>
        `;const j=f.querySelector(".types-container"),_=f.querySelector(".back");K(N,_),R(P,j),s.push(f)}const t=[...s,...s];a.innerHTML=t.sort(()=>Math.random()-.5).map(n=>n.outerHTML).join(" "),console.log(a)}function V(e){const o=Array.from(a.querySelectorAll(".card")),s=o.sort(()=>.5-Math.random());o.forEach(t=>{const n=t.querySelector(".front"),r=t.querySelector(".back");n.style.transform="rotateY(0deg)",r.style.transform="rotateY(180deg)"}),a.innerHTML="",s.forEach(t=>{a.appendChild(t)}),B(e),C==!1&&(y=0,l=[])}function B(e){const o=Array.from(a.querySelectorAll(".card"));o.forEach(s=>{const t=s.querySelector(".front"),n=s.querySelector(".back");t.style.transform="rotateY(180deg)",n.style.transform="rotateY(0deg)"}),setTimeout(()=>{o.forEach(s=>{const t=s.querySelector(".front"),n=s.querySelector(".back");t.style.transform!="rotateY(0deg)"&&n.style.transform!="rotateY(180deg)"&&(t.style.transform="rotateY(0deg)",n.style.transform="rotateY(180deg)")})},e*1e3)}a.addEventListener("click",e=>{const o=e.target.closest(".card");if(o){const s=o.querySelector(".front"),t=o.querySelector(".back");if(s.style.transform!="rotateY(180deg)"&&t.style.transform!="rotateY(0deg)"&&(s.style.transform="rotateY(180deg)",t.style.transform="rotateY(0deg)",console.log(l),l.push(o),console.log(l)),l.length===2){let n=l[0],r=l[l.length-1];setTimeout(()=>{if(n.innerHTML!==r.innerHTML){b.play(),setTimeout(()=>{b.pause(),b.currentTime=0},1e3);let c=n.querySelector(".front"),h=n.querySelector(".back"),S=r.querySelector(".front"),g=r.querySelector(".back");c.style.transform="rotateY(0deg)",h.style.transform="rotateY(180deg)",S.style.transform="rotateY(0deg)",g.style.transform="rotateY(180deg)",p-=250,Z()}else L.play(),setTimeout(()=>{L.pause(),L.currentTime=0},1e3),p+=1e3,X()},1e3),l=[]}else console.log("falta seleccionar")}});function X(){const e=Array.from(a.querySelectorAll(".card"));y++,y===e.length/2&&(H(w.win),Y.classList.add("aparittion"))}function Z(){let e=parseInt(E.textContent);console.log(e),e&&e>0&&(e--,E.textContent=e),e===0&&(H(w.lose),Y.classList.add("aparittion"))}const ee=document.querySelector(".attemps-container"),te=document.querySelector(".options-container"),ne=document.querySelector(".start-content"),m=document.querySelector(".hard-difficult"),u=document.querySelector(".normal-difficult"),oe=document.getElementById("startGame-btn"),I=document.querySelector(".start-screen"),v=document.getElementById("option-selected"),{normal:T,hard:x}=G;function M(e,o){e.classList.add("selected"),o.classList.remove("selected")}function O(){v.play(),setTimeout(()=>{v.pause(),v.currentTime=0},300)}function $({attemps:e,numCards:o}){W(o),E.textContent=e}ne.addEventListener("click",e=>{const o=e.target;o===u?(o.classList.contains("selected")===!1&&O(),M(u,m),console.log(T)):o===m&&(o.classList.contains("selected")===!1&&O(),M(m,u),console.log(x))});oe.addEventListener("click",e=>{u.classList.contains("selected")?(console.log("Elegiste la dificultad normal"),a.style.padding="0px",$(T)):m.classList.contains("selected")&&(console.log("Elegiste la dificultad dificil"),a.style.padding="80px 0",$(x)),u.classList.contains("selected")||m.classList.contains("selected")?(ee.style.display="inline-block",te.style.display="flex",I.style.transform="translateY(-100%)"):alert("Debe elegir una dificultad para continuar"),document.body.style.backgroundImage='url("images/background-Game.jpg")'});I.addEventListener("transitionend",()=>{I.style.display="none",a.style.display="grid",u.classList.contains("selected")?B(T.timeFlip):m.classList.contains("selected")&&B(x.timeFlip),console.log("termino animacion")});const se=document.getElementById("returnMenu-btn");if(!localStorage.getItem("scoreList")){const e=[{num:"1",imgSrc:"images/charmander-face.jpg",username:"Brock Harrison",points:"9999"},{num:"2",imgSrc:"images/pikachu-face.webp",username:"Misty Waterflower",points:"8270"},{num:"3",imgSrc:"images/vaporeon-perfil.jpg",username:"Serena Yvonne",points:"6920"},{num:"4",imgSrc:"images/sooble-face.jpg",username:"Alisson Spring",points:"4990"},{num:"5",imgSrc:"images/luccario-face.jpg",username:"Clemont Lumiose",points:"2250"}];localStorage.setItem("scoreList",JSON.stringify(e))}function re(e){for(let o=0;o<e.length;o++){let s=e[o].querySelector(".list-num");s.textContent=o+1,console.log(s)}}function ae(e){let o=document.createElement("li");o.classList.add("list-item"),o.innerHTML=`
        <span class="list-num"></span>
        <img src="images/squirtle-face.jpg">
        <h1 class="username">Your name</h1>
        <span class="points-earned">${e}</span>
    `;let s=0,t=d.querySelectorAll(".list-item");console.log(t.length);for(let r=0;r<t.length;r++){let c=parseInt(t[r].querySelector(".points-earned").textContent);e>c||s++}s<t.length?d.insertBefore(o,t[s]):d.appendChild(o),t=d.querySelectorAll(".list-item"),t.length>5&&t[t.length-1].remove(),t=d.querySelectorAll(".list-item"),re(t);let n=[];t.forEach(r=>{n.push({num:r.querySelector(".list-num").textContent,imgSrc:r.querySelector("img").src,username:r.querySelector(".username").textContent,points:r.querySelector(".points-earned").textContent})}),localStorage.setItem("scoreList",JSON.stringify(n)),console.log(t.length),console.log(t)}function ce(){let e=localStorage.getItem("scoreList");e&&JSON.parse(e).forEach(s=>{let t=document.createElement("li");t.classList.add("list-item"),t.innerHTML=`
                <span class="list-num">${s.num}</span>
                <img src="${s.imgSrc}">
                <h1 class="username">${s.username}</h1>
                <span class="points-earned">${s.points}</span>
            `,d.appendChild(t)})}document.addEventListener("DOMContentLoaded",function(){ce()});se.addEventListener("click",e=>{ae(p),U()});const F=document.querySelector(".rating-screen"),le=document.getElementById("leaderboard-btn"),ie=document.getElementById("close-leaderboard");le.addEventListener("click",e=>{F.style.display="flex"});ie.addEventListener("click",e=>{F.style.display="none"});
